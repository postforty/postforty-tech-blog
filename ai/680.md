# 💻 VS Code에서 Gemini CLI 사용 시 `Ctrl+F` 충돌 해결 방법

## 1\. 문제 정의: Gemini CLI와 VS Code 단축키의 충돌

Visual Studio Code(이하 VS Code)의 터미널 환경은 개발자가 CLI(Command Line Interface) 도구를 통합적으로 사용하는 주요 공간이다. Gemini CLI와 같은 지능형 터미널 기반 도구는 효율적인 상호 작용을 위해 특정 단축키 조합을 활용한다.

그러나 VS Code의 기본 단축키 설정이 Gemini CLI의 단축키와 충돌하는 문제가 발생한다. 특히, `Ctrl+F` 키 조합이 대표적인 충돌 원인이다.

### 1-1. `Ctrl+F` 충돌의 근본 원인

`Ctrl+F`는 터미널 패널에 포커스가 있을 때 VS Code의 **터미널 검색 기능**을 활성화하는 단축키로 기본 설정되어 있다.

- **VS Code의 동작:** `Ctrl+F`를 누르면 `workbench.action.terminal.focusFindWidget` 명령이 실행되는 것이다.
- **Gemini CLI의 필요 동작:** Gemini CLI는 사용자 경험 향상을 위해 `Ctrl+F`를 자체적인 기능 실행에 사용하도록 설계되었다.

이러한 키 바인딩의 중첩으로 인해, 사용자가 Gemini CLI 내에서 `Ctrl+F`를 누르면 의도한 CLI 기능 대신 VS Code의 검색 창이 불필요하게 활성화되는 문제가 발생한다.

## 2\. 해결 목표: 터미널 환경에서 `Ctrl+F` 무효화

이러한 충돌을 근본적으로 해결하는 목표는 다음과 같다.

### 2-1. 요구되는 동작

- **에디터 영역:** VS Code 에디터 영역에서는 `Ctrl+F` (찾기) 기능이 정상적으로 동작해야 한다.
- **터미널 영역:** 터미널에 포커스가 있을 때는 `Ctrl+F`가 VS Code의 터미널 검색 기능을 호출하지 않아야 하며, 셸(Shell)의 기본 명령어(예: 커서 이동)로도 전달되지 않아야 한다. 즉, 키 입력이 **완전히 무효화**되어 Gemini CLI가 안정적으로 단축키를 사용할 수 있는 환경을 조성해야 한다.

## 3\. 해결 방안: `keybindings.json`을 통한 무효화

VS Code는 특정 컨텍스트(`when` 절)에서 특정 키 바인딩의 동작을 재정의할 수 있는 강력한 시스템을 제공한다. 이 시스템을 통해 터미널에서의 `Ctrl+F` 동작을 '아무것도 하지 않음(No Operation)'으로 설정한다.

### 3-1. 키 바인딩 설정 파일 접근

- `keybindings.json` 파일을 열기 위해서는 다음의 순서를 따른다.
  - `Ctrl+K`와 `Ctrl+S`를 순서대로 누른다.
  - '바로 가기 키 편집기' 상단의 `{}` 아이콘 을 클릭한다.

### 3-2. 충돌 방지 규칙 추가

- 열린 `keybindings.json` 파일에 다음 JSON 객체를 배열 안에 추가한다.

<!-- end list -->

```json
[
  {
    "key": "ctrl+f",
    "command": "workbench.action.keybinding.noop",
    "when": "terminalFocus"
  }
]
```

### 3-3. 설정의 분석 및 효과

이 설정은 `Ctrl+F`를 눌렀을 때 VS Code가 실행할 명령을 `workbench.action.keybinding.noop`으로 덮어씌우는 것이다.

- **`"command": "workbench.action.keybinding.noop"`:** 이 명령은 'No Operation'을 의미하는 명령이다. 키 입력이 들어와도 VS Code 수준에서 어떠한 기능도 실행하지 않고, 동시에 키 입력을 셸로 전달하는 기본 동작도 차단한다.
- **`"when": "terminalFocus"`:** 이 규칙이 **터미널 패널에 포커스가 있을 때만** 적용되도록 제한하는 조건이다.

이러한 설정은 터미널 환경에서 `Ctrl+F`를 완전히 비활성화하여, Gemini CLI의 고유 단축키 기능이 정상적으로 동작하도록 보장하는 최적의 방법이다.
